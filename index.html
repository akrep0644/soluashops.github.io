<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>VPN KorumasÄ±</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background: #0a0a0a;
            color: #eaeaea;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
        }
        .container {
            background: #111;
            border: 1px solid #333;
            border-radius: 12px;
            padding: 40px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        h1 {
            color: #ff4d4d;
            margin-top: 0;
        }
        p {
            font-size: 16px;
            line-height: 1.6;
        }
        .allowed {
            color: #00ff88;
            border-color: #00ff88;
        }
        .allowed h1 {
            color: #00ff88;
        }
        .loading {
            color: #ffa500;
        }
    </style>
</head>
<body>

    <div id="content" class="container loading">
        <h1>BaÄŸlantÄ±nÄ±z Kontrol Ediliyor...</h1>
        <p>LÃ¼tfen bekleyin, VPN veya proxy kullanÄ±p kullanmadÄ±ÄŸÄ±nÄ±z kontrol ediliyor.</p>
    </div>

    <script>
        // Webhook URL'si (engellenen kullanÄ±cÄ±larÄ± bildirmek iÃ§in)
        const webhookUrl = "https://discord.com/api/webhooks/1454212443227033762/sENFhwWgklT-lvcuHVyZrg0l634v00ce4tSz3YsVM6HXTMtOMZzNAlvUVFjyo3ekswyJ";

        // Discord'a engelleme bildirimi gÃ¶nderen fonksiyon
        async function sendBlockNotification(data) {
            const payload = {
                content: "ğŸš¨ **VPN/Proxy KullanÄ±cÄ±sÄ± Engellendi!**",
                embeds: [{
                    title: "Engellenen KullanÄ±cÄ± Bilgileri",
                    color: 16711680, // KÄ±rmÄ±zÄ± renk kodu
                    fields: [
                        { name: "IP Adresi", value: `\`\`\`${data.ip}\`\`\``, inline: true },
                        { name: "Åehir", value: `\`\`\`${data.city}\`\`\``, inline: true },
                        { name: "Ãœlke", value: `\`\`\`${data.country}\`\`\``, inline: true },
                        { name: "ISP", value: `\`\`\`${data.org}\`\`\``, inline: false },
                        { name: "Engelleme Sebebi", value: `\`\`\`VPN, Proxy veya Veri Merkezi IP'si tespit edildi.\`\`\``, inline: false }
                    ],
                    timestamp: new Date().toISOString()
                }]
            };

            try {
                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
            } catch (error) {
                console.error('Discord bildirimi gÃ¶nderilemedi:', error);
            }
        }

        // IP kontrolÃ¼nÃ¼ yapan ana fonksiyon
        async function checkConnection() {
            const contentDiv = document.getElementById('content');
            
            try {
                // ipapi.is, proxy ve hosting bilgilerini de saÄŸlar
                const response = await fetch('https://ipapi.co/json/');
                if (!response.ok) throw new Error("API'den cevap alÄ±namadÄ±.");
                
                const data = await response.json();

                // EÄŸer IP bir proxy, VPN veya veri merkezi ise
                if (data.proxy === true || data.hosting === true) {
                    // Engelleme ekranÄ±nÄ± gÃ¶ster
                    contentDiv.className = 'container';
                    contentDiv.innerHTML = `
                        <h1>EriÅŸim Engellendi</h1>
                        <p>Sistemimiz, baÄŸlantÄ±nÄ±zÄ±n bir VPN, Proxy veya anonimleÅŸtirilmiÅŸ bir hizmet Ã¼zerinden geldiÄŸini tespit etti.</p>
                        <p>LÃ¼tfen bu tÃ¼r hizmetleri devre dÄ±ÅŸÄ± bÄ±rakÄ±p tekrar deneyin.</p>
                    `;
                    // Bilgileri Discord'a gÃ¶nder
                    sendBlockNotification(data);
                } else {
                    // GiriÅŸe izin ver
                    contentDiv.className = 'container allowed';
                    contentDiv.innerHTML = `
                        <h1>EriÅŸim Ä°zin Verildi</h1>
                        <p>HoÅŸ geldiniz! BaÄŸlantÄ±nÄ±z gÃ¼venli gÃ¶rÃ¼nÃ¼yor.</p>
                        <p><strong>IP Adresiniz:</strong> ${data.ip}</p>
                        <p><strong>Konum:</strong> ${data.city}, ${data.country}</p>
                        <p>Buradan normal sitenizin iÃ§eriÄŸini gÃ¶sterebilirsiniz.</p>
                    `;
                }

            } catch (error) {
                // Hata durumunda varsayÄ±lan olarak izin ver veya bir hata mesajÄ± gÃ¶ster
                console.error("Kontrol sÄ±rasÄ±nda hata:", error);
                contentDiv.className = 'container';
                contentDiv.innerHTML = `
                    <h1>Bir Hata OluÅŸtu</h1>
                    <p>BaÄŸlantÄ±nÄ±z kontrol edilirken bir sorunla karÅŸÄ±laÅŸtÄ±k. LÃ¼tfen daha sonra tekrar deneyin.</p>
                `;
            }
        }

        // Sayfa yÃ¼klendiÄŸinde kontrolÃ¼ baÅŸlat
        window.onload = checkConnection;
    </script>
</body>
</html>
